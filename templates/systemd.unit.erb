[Unit]
Description=Apache Tomcat Web Application Server
After=network.target

[Service]
# Configuration
#Environment="CATALINA_HOME=/usr/share/tomcat8"
#Environment="CATALINA_BASE=/var/lib/tomcat8"
#Environment="CATALINA_TMPDIR=/tmp"
#Environment="JAVA_OPTS=-Djava.awt.headless=true"
#EnvironmentFile=-/etc/default/tomcat8

# Lifecycle
Type=simple
WorkingDirectory=/opt/tomcat/sites/<%= @name %>
ExecStart=/bin/sh /opt/tomcat/sites/<%= @name %>/tomcat/bin/startup.sh
SuccessExitStatus=143

# Logging
SyslogIdentifier=<%= @name %>

# Security
User=<%= @name %>
Group=<%= @name %>
PrivateTmp=yes
AmbientCapabilities=CAP_NET_BIND_SERVICE
NoNewPrivileges=true

[Install]
WantedBy=multi-user.target

#
#
#
#
#
#[Unit]
#Description=AIS systemd unit
#
#[Service]
#Type=simple
#Restart=no
#TimeoutSec=2min
#IgnoreSIGPIPE=no
#KillMode=process
#GuessMainPID=no
#RemainAfterExit=yes
#SuccessExitStatus=5 6
#User=ais
#WorkingDirectory=/opt/tomcat/sites/ais
#ExecStart=/opt/tomcat/sites/ais/tomcat/bin/startup.sh
#ExecStop=/opt/tomcat/sites/ais/tomcat/bin/shutdown.sh