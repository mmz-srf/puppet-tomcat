[Unit]
Description=Apache Tomcat Web Application (<% @name %>)
After=network.target

[Service]
Environment="CATALINA_HOME=/usr/share/tomcat8"
Environment="CATALINA_BASE=/opt/tomcat/sites/<%= @name %>/tomcat"
Environment="CATALINA_TMPDIR=/opt/tomcat/sites/<%= @name %>/tomcat/temp"

# Lifecycle
Type=simple
ExecStart=/bin/sh /opt/tomcat/sites/<%= @name %>/tomcat/bin/startup.sh
SuccessExitStatus=143

# Logging
SyslogIdentifier=<%= @name %>

# Security
User=<%= @name %>
Group=<%= @name %>
PrivateTmp=yes
NoNewPrivileges=true

[Install]
WantedBy=multi-user.target
